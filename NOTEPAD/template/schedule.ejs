
<!-- saved from url=(0068)http://www.htmlhifive.com/ja/tutorial/schedule/template/schedule.ejs -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=GBK"></head><body><div class="line-gutter-backdrop"></div><table><tbody><tr><td class="line-number" value="1"></td><td class="line-content"><span class="html-tag">&lt;script <span class="html-attribute-name">type</span>="<span class="html-attribute-value">text/ejs</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">calender</span>"&gt;</span></td></tr><tr><td class="line-number" value="2"></td><td class="line-content">	&lt;div id="calender"&gt;</td></tr><tr><td class="line-number" value="3"></td><td class="line-content">		&lt;input type="hidden" id="view_year" value="[%= year %]" /&gt;</td></tr><tr><td class="line-number" value="4"></td><td class="line-content">		&lt;input type="hidden" id="view_month" value="[%= month %]" /&gt;</td></tr><tr><td class="line-number" value="5"></td><td class="line-content">		&lt;h2 class="hearder"&gt;[%= year %]å¹&#65533; [%= month %]æœ&#65533; &lt;/h2&gt;</td></tr><tr><td class="line-number" value="6"></td><td class="line-content">		&lt;span class="preMonth link"&gt;å‰ã®æœˆã¸&lt;/span&gt;</td></tr><tr><td class="line-number" value="7"></td><td class="line-content">		&lt;span class="nextMonth link"&gt;æ¬¡ã®æœˆã¸&lt;/span&gt;</td></tr><tr><td class="line-number" value="8"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="9"></td><td class="line-content">		[%</td></tr><tr><td class="line-number" value="10"></td><td class="line-content">			// ä¸€æ—¥ã®ãƒŸãƒªç§’æ•°</td></tr><tr><td class="line-number" value="11"></td><td class="line-content">			var ms = 86400000;</td></tr><tr><td class="line-number" value="12"></td><td class="line-content">			// æŒ‡å®šæœˆã‚’æ—¥ä»˜ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¤‰æ&#65533;</td></tr><tr><td class="line-number" value="13"></td><td class="line-content">			var date = new Date(year, month - 1);</td></tr><tr><td class="line-number" value="14"></td><td class="line-content">			// æŒ‡å®šæœˆã®æœ€åˆã®æ—¥ã®ã‚ã‚‹é€±ã®æ—¥æ›œã‚’æ±‚ã‚ã‚‹</td></tr><tr><td class="line-number" value="15"></td><td class="line-content">			var curDate = new Date(date.getTime() - date.getDay() * ms);</td></tr><tr><td class="line-number" value="16"></td><td class="line-content">			// è¡¨ç¤ºã™ã‚‹æœ€å¾Œã®æœˆã®æœˆæœ«æ—¥ã‚’æ±‚ã‚ã‚&#65533;</td></tr><tr><td class="line-number" value="17"></td><td class="line-content">			var endDateTime = new Date((month &gt; 11)?year+1:year, month % 12, 0).getTime();</td></tr><tr><td class="line-number" value="18"></td><td class="line-content">			if(new Date(endDateTime).getDay() === 6){</td></tr><tr><td class="line-number" value="19"></td><td class="line-content">				endDateTime = new Date(endDateTime + 7 * ms).getTime();</td></tr><tr><td class="line-number" value="20"></td><td class="line-content">			}</td></tr><tr><td class="line-number" value="21"></td><td class="line-content">		%]</td></tr><tr><td class="line-number" value="22"></td><td class="line-content">			&lt;table class="calender"&gt;</td></tr><tr><td class="line-number" value="23"></td><td class="line-content">				&lt;thead&gt;</td></tr><tr><td class="line-number" value="24"></td><td class="line-content">					&lt;tr&gt;</td></tr><tr><td class="line-number" value="25"></td><td class="line-content">						[%for (var i = 0, week = ['æ—&#65533;','æœ&#65533;','ç&#65533;','æ°&#65533;','æœ&#65533;','é‡&#65533;','åœ&#65533;']; i &lt; week.length; i++) {%]</td></tr><tr><td class="line-number" value="26"></td><td class="line-content">							&lt;th class="[% if(i===0){ %]sun[% }else if(i===6){ %]sat[% } %]"&gt;[%= week[i] %]&lt;/th&gt;</td></tr><tr><td class="line-number" value="27"></td><td class="line-content">						[% } %]</td></tr><tr><td class="line-number" value="28"></td><td class="line-content">					&lt;/tr&gt;</td></tr><tr><td class="line-number" value="29"></td><td class="line-content">				&lt;/thead&gt;</td></tr><tr><td class="line-number" value="30"></td><td class="line-content">				&lt;tbody&gt;</td></tr><tr><td class="line-number" value="31"></td><td class="line-content">					[% while(endDateTime &gt;= curDate.getTime() || curDate.getDay()){ %]</td></tr><tr><td class="line-number" value="32"></td><td class="line-content">						[% if (!curDate.getDay()) { %]</td></tr><tr><td class="line-number" value="33"></td><td class="line-content">							&lt;tr&gt;</td></tr><tr><td class="line-number" value="34"></td><td class="line-content">						[% } %]</td></tr><tr><td class="line-number" value="35"></td><td class="line-content">						[% var m = curDate.getMonth();</td></tr><tr><td class="line-number" value="36"></td><td class="line-content">							var formatDate = h5.u.str.format('{0}-{1}-{2}', curDate.getFullYear(), curDate.getMonth() + 1, curDate.getDate());</td></tr><tr><td class="line-number" value="37"></td><td class="line-content">						 %]</td></tr><tr><td class="line-number" value="38"></td><td class="line-content">						&lt;td [%:= (function(){</td></tr><tr><td class="line-number" value="39"></td><td class="line-content">							var evenOdd = m === month-1? 'target-month' : 'no-target-month';</td></tr><tr><td class="line-number" value="40"></td><td class="line-content">							return 'class="current-month-date date-column ' + evenOdd + '" id="' + formatDate + '"';</td></tr><tr><td class="line-number" value="41"></td><td class="line-content">							})()</td></tr><tr><td class="line-number" value="42"></td><td class="line-content">							%]&gt;</td></tr><tr><td class="line-number" value="43"></td><td class="line-content">								&lt;div class="td_cell"&gt;</td></tr><tr><td class="line-number" value="44"></td><td class="line-content">									&lt;div class="scheduleCell"&gt;&lt;/div&gt;</td></tr><tr><td class="line-number" value="45"></td><td class="line-content">									&lt;span class="date"&gt;</td></tr><tr><td class="line-number" value="46"></td><td class="line-content">										[%= curDate.getDate() %]</td></tr><tr><td class="line-number" value="47"></td><td class="line-content">									&lt;/span&gt;</td></tr><tr><td class="line-number" value="48"></td><td class="line-content">								&lt;/div&gt;</td></tr><tr><td class="line-number" value="49"></td><td class="line-content">							&lt;/td&gt;</td></tr><tr><td class="line-number" value="50"></td><td class="line-content">						[% curDate = new Date(curDate.getTime() + ms); %]</td></tr><tr><td class="line-number" value="51"></td><td class="line-content">						[% if (!curDate.getDay()) { %]</td></tr><tr><td class="line-number" value="52"></td><td class="line-content">							&lt;/tr&gt;</td></tr><tr><td class="line-number" value="53"></td><td class="line-content">						[% } %]</td></tr><tr><td class="line-number" value="54"></td><td class="line-content">					[% } %]</td></tr><tr><td class="line-number" value="55"></td><td class="line-content">				&lt;/tbody&gt;</td></tr><tr><td class="line-number" value="56"></td><td class="line-content">			&lt;/table&gt;</td></tr><tr><td class="line-number" value="57"></td><td class="line-content">		&lt;/div&gt;</td></tr><tr><td class="line-number" value="58"></td><td class="line-content">	&lt;/div&gt;</td></tr><tr><td class="line-number" value="59"></td><td class="line-content"><span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="60"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="61"></td><td class="line-content"><span class="html-tag">&lt;script <span class="html-attribute-name">type</span>="<span class="html-attribute-value">text/ejs</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">detail</span>"&gt;</span></td></tr><tr><td class="line-number" value="62"></td><td class="line-content">	&lt;h2 data-h5-bind="date"&gt;&lt;/h2&gt;</td></tr><tr><td class="line-number" value="63"></td><td class="line-content">	&lt;ul data-h5-loop-context="schedules"&gt;</td></tr><tr><td class="line-number" value="64"></td><td class="line-content">		&lt;li data-h5-bind="subject"&gt;</td></tr><tr><td class="line-number" value="65"></td><td class="line-content">	&lt;/ul&gt;</td></tr><tr><td class="line-number" value="66"></td><td class="line-content"><span class="html-tag">&lt;/script&gt;</span><span class="html-end-of-file"></span></td></tr></tbody></table></body></html>